var officialContestants ="Abdullah, Khubaib, Shootaz\nAbraham, Beauferris, \nAditya, Bandekar, Cool Calm Preying Coders\nAhmed, Farazi, BUET Rejects\nAlan, Fung, Martin Trans biggest phan\nAlbert, Choi, ReactJS\nAlex, Tran, AAR\nAlexa, Calkhoven, RAT\nAmman, Yusuf, Amman Yusuf\nAndrew, Truong, This team name has been sponsored by Raid: Shadow Legends\nAnh, Tuan Pham, AAR\nAntonio, Santos, Swip + Anton\nAron, Mao, BelowAverage\nArpith, Indukuri, Hollinda\nArsalan, Fardi, Python Heroes\nAtharva, Naik, CodeHard\nAustin, Docherty, Austin Docherty\nAvneet, Gill, Project Camel\nBailey, Duncan, LeetcodeEasy\nBenedict, Mendoza, BelowAverage\nBenjamin, Messer, badidiots\nBenyamin, Bashari, Emerald\nBill, Luu, Bill Luu\nBlandon, Tang, Python Heroes\nBraden, Foxcroft, Braden Foxcroft\nBrandon, Khoo, !inLastPlace\nBrandon, Zhang, UBC x∈ℝ ⇒ x<43252003274489856000\nBraydon, Willms, Braydon Willms\nCalvin, Dang, Mr.Robot\nCharlie, Zheng, Emerald\nChenlei, Bao, Mr.Robot\nChris, Chau, Team Backpack\nChris, Sun, Salami\nChristopher, Pravlik, uh oh, stinky!!\nChristopher, Schultze, MRC\nChunyu, Li, Chunyu Li\nCole, Adams, Runtime Terror\nDaniel, Artuso, Rocket Science\nDaniel, Chau, Salami\nDaryl, Dang, This team name has been sponsored by Raid: Shadow Legends\nDavid, Nguyen, !inLastPlace\nDeclan, Quinn, Goldmeme Stonks\nDerick, Young, Please wash your hands\nDesmond, Larsen-Rosner, Babbage Difficulty Engine\nDevin, Leamy, Cool Calm Preying Coders\nDevon, Hockley, Hoodies4Life\nDhyey, Lalseta, Shootaz\nDouglas, Yau, Please wash your hands\nDustin, Ward, Dustin Ward\nEddie, Kim, Koreans+1\nEdward, Gu, Stack Underflow\nEdward, Mah, Have A Nice Day\nEmiri, H, Renert School\nEmmett, Collings, Emmett Collings\nEthan, Kerr, BickleBlatoon\nEvan, Wong, Not Sugoi Sugoi Coders\nFatemeh, Yazdanbakhsh, Babbage Difficulty Engine\nFrankie, Chen, Team Backpack\nGarth, Slaney, Koreans+1\nGary, Li, Salami\nGraham, Doerksen, Goldmeme Stonks\nGurnoor, Aujla, Have A Nice Day\nHailey, Ahn, Hailey Ahn\nHaiyang, He, bulcnafsnartnitram\nHan, Liu, Stack Underflow\nHaohu, Shen, __stdcall\nHarjee, Johal, Smarties\nHarry, Chen, Team Pablo\nHarshit, Sharma, Harshit Sharma\nHaseeb, Khan, THREEDAYSLEFT\nHenry, Huynh, Henry Huynh\nHenry, Stoldt, Goldmeme Stonks\nHenry, X, Henry X\nHooman, Khosravi, RoyalTitaniumChameleons\nHtet, Myet Aung Naing, HNT\nIan, Cardinoza, Python Heroes\nIan, DeHaan, Alberta Green\nIgor, Pieters, Rocket Science\nInderpreet, Dhillon, !inLastPlace\nIsaac, Bachelder, Snake Pun\nIsaac, McAuley, ;DROP_TABLE_users\nIsraa, Farouk, Kim\nJackson, Wiebe, ;DROP_TABLE_users\nJae-Won, Ma, JAR\nJane, Shen, Not Sugoi Sugoi Coders\nJane, Shen, owo\nJared, Pon, bulcnafsnartnitram\nJason, Lyster, Computers\nJason, Nguyen, Jason Nguyen\nJayoo, Hwang, Not Ruby\nJeffrey, Tong, Team Backpack\nJeremy, Olea, Swip + Anton\nJesse, Shewfelt, Funktion\nJessie, C, LeetcodeEasy\nJessie, Guo, Jessie Guo\nJiho, Kim, Koreans+1\nJofred, Cayabyab, Project Camel\nJonathan, Chong, 2 Largely Built Men and 1 Luke\nJordan, Christopher-Shah, Hollinda\nJoshua, Swidinsky, Joshua Swidinsky\nJosip, Smolcic, Josip Smolcic\nJulien, Lam, 2 Largely Built Men and 1 Luke\nKamalpreet, Mundi, Have A Nice Day\nKameshwara, Sekar, Kim\nkashif, kashif, kashif kashif\nKavinda, Pitiduwa Gamage, Kavinda Pitiduwa Gamage\nKaynen, Mitchell, Hoodies4Life\nKevin, Paul, Renert School\nLana, Nieves, Lana Nieves\nLauren, Perera, Team Abstraction\nLee, Ringham, RoyalTitaniumChameleons\nLeif, Clark, Renert School\nLeo, Gao, Leo Gao\nLukas, Kobler, CodeHard\nLuke, Hollinda, Hollinda\nLuke, Son, 2 Largely Built Men and 1 Luke\nluyi, wang, __stdcall\nMasoud, Karimi Fatemi, Monty Pythons\nMat, Brandao, MRC\nMatt, Findlay, Funktion\nMax, Botham, We don't byte\nMicah, Peacock, Funktion\nMichelle, Nguyen, Michelle Nguyen\nMisael, Esperanzate, BelowAverage\nMohammad, Chama, Team Abstraction\nMohammad, Jafar Mashhadi, Monty Pythons\nMohammed, Rakeeb, RoyalBengalHackerz\nMuhammad, Hassan, Muhammad Hassan\nMurray, Evans, Murray Evans\nMushfik, Rahman, BUET Rejects\nMuskan, Sarvesh, Kim\nNarinder, Singh, Smarties\nNicholas, Harte, HNT\nNick, Wu, Nick Wu\nNiran, Pon, Not Ruby\nNolan, Chan, NoMoney\nNurullo, Boboev, Nurullo Boboev\nOscar, Wong, Swip + Anton\nParker, Siroishka, Computers\nPaul, Chen, LeetcodeEasy\nPhilmo, Gu, RoyalTitaniumChameleons\nRachel, Wong, cabbage\nRadu, Schirliu, RAT\nRainer, Lim, Please wash your hands\nRobert, McCurdy, uh oh, stinky!!\nRoger, Chen, Cool Calm Preying Coders\nRupert, Raphael Amodia, AAR\nRyan, Allard, Ryan Allard\nRyan, Lee, Tim&Ryan Coding Adventures\nSadat, Islam, Smarties\nSamuel, Robertson, sam\nSara, Velasco, Snake Pun\nSarthak, Sharan, Sarthak Sharan\nSean, Oh, bulcnafsnartnitram\nSeher, Dawar, We don't byte\nShamin, Rahman, Project Camel\nShauvik, Shadman, BUET Rejects\nSina, Dezfuli, Sina Dezfuli\nSpencer, Comin, Bruce\nSteven, Deutekom, Steven Deutekom\nSteven, Gu, NoMoney\nSteven, Hwang, Not Ruby\nSunny, M, Sunny M\nSunny, Nagam, Runtime Terror\nSurbhi, Sachan, Babbage Difficulty Engine\nThomas, Vu, Emerald\nTiffany, Chang, owo\nTim, Gubski, Tim&Ryan Coding Adventures\nTin, Le, HNT\nTyler, Yip, RAT\nUmut, Emre, BickleBlatoon\nVianney, Nguyen, Vianney Nguyen\nVictor, Mendoza, Rocket Science\nWesley, Tang, Runtime Terror\nWill, Kerr, Will Kerr\nXiangyu, Chen, Xiangyu Chen\nXingyu, Zhou, UBC x∈ℝ ⇒ x<43252003274489856000\nXinhua, Cao, BickleBlatoon\nYasmin, Samantar, Yasmin Samantar\nYazan, Chama, Team Abstraction\nYunfan, Yang, cabbage\nZahra, Ghavasieh, Hoodies4Life\nZak, Sheedy, Computers\nZhenkun, Hu, Mr.Robot\nZicheng, Huang, __stdcall";

var ofSplit = officialContestants.split("\n");
var ofArr = [];
var winners = [];
for (var i = 0; i < ofSplit.length; i++) {
    var contestant = ofSplit[i].split(",");
    ofArr.push([contestant[1], contestant[0], contestant[2]]);
}
ofArr.sort(function(a, b) {
    if (a[1] < b[1]) return -1;
    if (a[1] == b[1]) return a[0] < b[0] ? -1 : (a[0] > b[0] ? 1 : 0);
    return 1;
});
var index;

function writeContestants() {
    var html_to_write = "";
    for (var i = 0; i < ofArr.length; i++)
	html_to_write += ofArr[i][1] + " " + ofArr[i][0] + ", ";
    document.getElementById("remaining_contestants").innerHTML = html_to_write;
}

function draw() {
    var button = document.getElementById("button");
    button.disabled = true;
    button.value = "And the winner is..."
    var roulette = setInterval(
	function() {
	    index = Math.floor(Math.random() * (ofArr.length));
	    document.getElementById("winner").innerHTML = ofArr[index][1] + " " + ofArr[index][0];
	    document.getElementById("team").innerHTML = ofArr[index][2];
	},
	50);

    setTimeout(
	function() {
	    clearInterval(roulette);
	    index = Math.floor(Math.random() * (ofArr.length));
	    document.getElementById("winner").innerHTML = ofArr[index][1] + " " + ofArr[index][0];
	    document.getElementById("team").innerHTML = ofArr[index][2];
	    ofArr.splice(index, 1);
	    document.getElementById("contestant_count").innerHTML = "List of official contestants (" + ofArr.length.toString() + ")";
	    writeContestants();
	    document.getElementById("button").disabled = false;
	    document.getElementById("button").value = "Start Draw";
	},
	3000);
}
document.getElementById("button").addEventListener("click", draw);

writeContestants();
document.getElementById("contestant_count").innerHTML = "List of official contestants (" + ofArr.length + "):";
