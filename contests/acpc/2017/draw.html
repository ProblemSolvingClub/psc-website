<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>ACPC 2017 Random Prize Draw</title>
<script>

var officialContestants = "Jackie,Yu\nLoula,Angelopolous\nParker,Wong\nShaheed,Ebrahim\nDante,Bencivenga\nTony,Cai\nVictor,Zheng\nSharon,Wang\nRaza,Qazi\nAlex,Bymoen\nAlan,Fung\nYousaf,Raja\nChristian,Velasco\nNikolas,Lam\nJames,Peralta\nBrian,Pho\nSadat,Islam\nKhesualdo,Condori\nDavid,Sepulveda\nAnna,Tran\nShaheed,Ebrahim\nEvan,Quan\nZahra,Ghavasieh\nCamila,Suarez Viltres\nDevon,Hockley\nNicolas,Gonzalez\nBrenton,Kruger\nAlex,Shymka\nFrankie,Chen\nReginald,Lybbert\nBryce,Besler\nKevin,Lee\nJordan,Lee\nBasim,Sahaf\nJeffrey,Tong\nChris,Sun\nErik,Skoronski\nSamuel,Niu\nChristian,Dudar\nEddy,Qiang\nShuJi,Chen\nMunsu,Hwang\nAlbert,Luu\nBenjamin,Lee\nZachary,Kahn\nCalvin,Bochulak\nLucas,Hossack\nDabin,Lamming\nAlfonso,Munoz\nMilan,Radenovic\nKendra,Wannamaker\nSean,Ovens\nSajad,Sameti\nWilliam,Wright\nSandeep Zechariah George,Kollannur\nZachariah,Albers\nChenlei(Iris),Bao\nMichael,Hoang\nHenry,Stoldt\nMartin,Tran\nTeresa,Van\nChristilyn,Arjona\nElvin,Limpin\nDaniel,Do\nXining,Chen\nMasroor Hussain,Syed\nAkash,Melethil\nAndrew,Heng\nDaniel,Doran\nBlake,Mealey\nBen,Roberts\nArtemiss,Rahim\nKenneth,Hancock\nHadiya,Firdaus\nJaime,Castill\nJoanna,Huynh\nMichael,Han\nMasroor Hussain,Syed\nAdeel,Bhalo\nArtemiss,Rahim\nHarjee,Johal\nSunny,Nagam\nKeenan,Gaudio\nErika,Fung\nTom,Maurer\nNicole,Ewert\nJerome,Adviento\nKarl,Augsten\nMicheal,Friesen\nMark,Danez Ricalde\nPossum,Nuada\nMaggie,Liu\nPossum,Nuada\nRobert,Fiker\nHansel,Qiu\nCalvin,Bochulak\nLucas,Hossack";
var ofSplit = officialContestants.split("\n");
var ofArr = [];
var winners = [];
for (var i = 0; i < ofSplit.length; i++) {
	var contestant = ofSplit[i].split(",");
	ofArr.push([contestant[1], contestant[0]]);
}
ofArr.sort(function(a,b){if (a[1] < b[1]) return -1; if (a[1] == b[1]) return a[0] < b[0] ? -1 : (a[0] > b[0] ? 1 : 0); return 1;});
var drawing = false;
var mdelete = false;
var idx
function writeContestants() {
  var html_to_write = "";
  for (var i = 0; i < ofArr.length; i++)
    html_to_write += ofArr[i][1] + " " + ofArr[i][0] + ", ";
  document.getElementById("remaining_contestants").innerHTML = html_to_write;
}
function draw() {
  if (!drawing) {
    if (mdelete) {
      ofArr.splice(idx, 1);
      document.getElementById("contestant_count").innerHTML = "List of official contestants (" + ofArr.length + ")";
      writeContestants();
    }
    mdelete = false;
    return;
  }
  mdelete = true;
	idx = Math.floor(Math.random() * (ofArr.length));
	document.getElementById("winner").innerHTML = ofArr[idx][1] + " " + ofArr[idx][0];
}
setInterval(draw, 10);
</script>
<style>
body {
	font: 20pt arial;
	margin:0;
}
h1 {
	font-size: 40pt;
	margin:0;
}
.winnerBox {
	font-size: 50pt;
	border: 5px outset green;
}
input {
	font-size: 20pt;
}
.blah {
	background: #fff;
	opacity: .95;
	padding: 10px;
}
.ofList {
	font-size: 15pt;
}
</style>
</head>
<body>
<div class="blah">
<h1>ACPC 2017 Random Prize Draw</h1>
<input type="button" value="Start Draw" onclick="drawing = !drawing; this.value = (drawing) ? 'Stop Drawing' : 'Start Drawing'">
And the winner is...
<div class="winnerBox">
<div id="winner"></div>
<div id="test"></div>
</div>
<p class=ofList>
<b id="contestant_count">List of official contestants (<script>document.write(ofArr.length);</script>):</b>

<a id="remaining_contestants"><script>  for (var i = 0; i < ofArr.length; i++) document.write(ofArr[i][1] + " " + ofArr[i][0] + ", ");
</script></a>
</p>
</div>
</body>
</html>
